buildscript {
	ext {
		kotlinVersion = '1.1.2-2'
	}
	repositories {
		jcenter()
	}
	dependencies {
		classpath("org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}")
// 		classpath("org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}")
	}
}

apply plugin: 'kotlin'

group = 'com.equalexperts'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

compileKotlin {
	kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
	kotlinOptions.jvmTarget = "1.8"
}

repositories {
	jcenter()
}

dependencies {
	compile "org.jetbrains.kotlin:kotlin-stdlib-jre8:${kotlinVersion}"
	compile "org.jetbrains.kotlin:kotlin-reflect:${kotlinVersion}"

	def feignVersion = "8.18.0"
	def jacksonVersion = "2.8.7"

	compile "com.natpryce:konfig:1.6.1.0"

	//feign + okhttp
	compile "com.netflix.feign:feign-core:${feignVersion}"
	compile "com.netflix.feign:feign-jackson:${feignVersion}"
	compile "com.netflix.feign:feign-okhttp:${feignVersion}"

	//feign uses an older version of jackson so force a newer one
    compile "com.fasterxml.jackson.core:jackson-databind:${jacksonVersion}"
    compile "com.fasterxml.jackson.module:jackson-module-kotlin:${jacksonVersion}"
    compile "com.fasterxml.jackson.module:jackson-modules-java8:${jacksonVersion}"

	testCompile "junit:junit:4.12"
    testCompile "org.mockito:mockito-core:2.7.19"
	testCompile "com.github.tomakehurst:wiremock:2.6.0"
	testCompile "org.assertj:assertj-core:3.6.2"
}

// apply plugin: "kotlin-allopen"
//
// allOpen {
//   annotation("com.mycompany.myapp.annotation")
// }